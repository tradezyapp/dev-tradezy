(this.webpackJsonptrade=this.webpackJsonptrade||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),s=(n(95),n(96),n(31)),o=n(6),l=n(59),d=n.n(l),j=n(169),u=n(170),b=n(171),h=n(85),p=n.n(h),O=n(82),x=n.n(O),g=n(84),f=n.n(g),m=n(83),v=n.n(m),w=n(168),y=n(172),S=n(173),k=n(174),N=n(162),A=n(60),C=n(177),I=n(175),B=n(33),T=n(54),L=n(36),P=n(29),E=n.n(P),F=n(41),W=n(42),R=n.n(W),U=n(9),z=n(2),D=Object(U.e)((function(e){var t=e.history,n=e.classes,c=Object(B.b)(),i=c.loginWithPopup,r=c.isAuthenticated,s=c.user,o=Object(a.useCallback)(Object(F.a)(E.a.mark((function e(){var t,n,a,c,i,r,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.email,n=s.given_name,a=s.family_name,c={Email:t,AuthZeroId:"test",FirstName:n||"John",LastName:a||"Doe",UserType:"String"},console.log(c),i={headers:{"Content-Type":"application/json"}},e.next=6,R.a.post("/user/register",c,i);case 6:r=e.sent,o=r.data,console.log(o),localStorage.setItem("uuidLogin",o);case 10:case"end":return e.stop()}}),e)}))),[s]);Object(a.useEffect)((function(){r&&(console.log("login sent to api"),o())}),[r,o]);return Object(z.jsx)("div",{className:n.content,children:r?Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Account"}),Object(z.jsxs)("h4",{children:["Status: ",Object(z.jsx)("span",{style:{fontWeight:"200"},children:"Unauthenticated"})]}),Object(z.jsx)("button",{className:"buttons",onClick:function(){t.push("/dashboard")},children:"Authenticate to TD Ameritrade"})]}):Object(z.jsx)("div",{style:{marginTop:"25px"},children:Object(z.jsxs)("button",{className:"buttons",onClick:function(){i()},children:[Object(z.jsx)(A.a,{variant:"button",children:"Login"})," "]})})})})),J=n(163),M=n(167),Z=n(166),$=n(164),G=n(165),X=n(129),_=n(176),q=function(e){var t=e.classes,n=Object(a.useState)(null),c=Object(s.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(!1),d=Object(s.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(null),h=Object(s.a)(b,2),p=h[0],O=h[1],x=Object(a.useState)(!1),g=Object(s.a)(x,2),f=g[0],m=g[1];Object(a.useEffect)(Object(F.a)(E.a.mark((function e(){var t,n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("uuidLogin"),e.next=3,R.a.get("/td/authenticate/user/".concat(t));case 3:n=e.sent,a=n.data,c=a.brokerageAccounts,r(c);case 7:case"end":return e.stop()}}),e)}))),[]);var v=function(){var e=Object(F.a)(E.a.mark((function e(){var t,n,a,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("uuidLogin"),n={UserId:t,BrokerageAccountId:p,Brokerage:"String",AccountType:"String"},a={headers:{"Content-Type":"application/json"}},e.next=5,R.a.post("/account/register",n,a);case 5:c=e.sent,i=c.data,console.log(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function w(e,t,n,a,c){return{name:e,AccountId:t,AccountType:n,Balance:a,Status:c}}var y=[w("",12451345,"Cash",7345,"Subscribed"),w("",13255412,"Margin",9832,"Subscribed")],S=Object(o.a)({root:{color:"#7968e6ad","&$checked":{color:"#7968e6"},"&$disabled":{color:"#7968e675"}},checked:{}})((function(e){return Object(z.jsx)(_.a,Object(T.a)({color:"default"},e))}));return Object(z.jsxs)("div",{className:t.content,children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Account"}),Object(z.jsxs)("h4",{children:["Status: ",Object(z.jsx)("span",{style:{fontWeight:"200"},children:"Authenticated"})]})]}),!i&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{children:Object(z.jsx)(X.a,{className:"container",children:Object(z.jsxs)(J.a,{"aria-label":"simple table",children:[Object(z.jsx)($.a,{children:Object(z.jsxs)(G.a,{children:[Object(z.jsx)(Z.a,{}),Object(z.jsx)(Z.a,{className:t.tabular,align:"left",children:"Account Id"}),Object(z.jsx)(Z.a,{className:t.tabular,align:"left",children:"Account Type"}),Object(z.jsx)(Z.a,{className:t.tabular,align:"left",children:"Balance"}),Object(z.jsx)(Z.a,{className:t.tabular,align:"left",children:"Status"})]})}),Object(z.jsx)(M.a,{children:y.map((function(e,n){return Object(z.jsxs)(G.a,{children:[Object(z.jsx)(Z.a,{component:"th",scope:"row",children:Object(z.jsx)(S,{className:t.radioBut,disabled:n>=1,checked:n<1&&f,value:1,onClick:function(e){return function(e){m(!0),O(e.target.value)}(e)}})}),Object(z.jsx)(Z.a,{align:"left",children:e.AccountId}),Object(z.jsx)(Z.a,{align:"left",children:e.AccountType}),Object(z.jsx)(Z.a,{align:"left",children:e.Balance}),Object(z.jsx)(Z.a,{align:"left",children:j&&f&&n<1?e.Status:""})]},e.AccountId)}))})]})})}),Object(z.jsxs)("div",{className:"note",children:[Object(z.jsx)("span",{style:{fontWeight:"600",fontStyle:"normal"},children:"Note:"})," ","Only the 123456 account can be selected, as it is the primary account. If you would like to select any other account, please re-authenticate using credentials of the primary account."]})]}),Object(z.jsxs)("div",{className:"authenticatedButtonContaier",children:[Object(z.jsx)("div",{className:"authenticateRightShift",children:Object(z.jsx)("button",{className:"buttons",disabled:!f,onClick:function(){v(),u(!0)},children:"Confirm Account"})}),Object(z.jsx)("div",{className:"authenticateRightShift",children:Object(z.jsx)("button",{className:"buttons",children:"Unauthenticate TD Ameritrade"})})]})]})},K=n(62),Q=Object(o.a)((function(e){return{root:{flexGrow:1,height:"auto",zIndex:1,overflow:"auto",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#7868e6"},appBarShift:Object(L.a)({marginLeft:0,width:"100%",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("md"),{marginLeft:240,width:"calc(100% - ".concat(240,"px)")}),menuButton:{marginLeft:0,marginRight:36},drawerPaper:Object(L.a)({width:240,color:"#5a5673",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("md"),{position:"relative"}),drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:70},e.breakpoints.up("sm"),{width:70}),toolbar:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,backgroundColor:"#fff",padding:e.spacing(2),marginTop:"50px"},radioBut:{color:"#7868e6","&$checked":{color:"#7868e675"}},tabular:{color:"#5a5673",fontWeight:"700"}}}),{withTheme:!0})((function(e){var t=e.classes,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],o=function(){r(window.innerWidth>=760)};Object(a.useEffect)((function(){window.addEventListener("resize",o()),o()}),[]);var l=function(){r(!i)},h=Object(B.b)(),O=h.isAuthenticated,g=h.logout,m=h.loginWithPopup,T=Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:t.toolbar}),Object(z.jsx)(w.a,{}),O?Object(z.jsxs)(j.a,{button:!0,children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(x.a,{style:{color:"#7868e6"}})}),Object(z.jsx)(b.a,{primary:"Account"})]}):Object(z.jsxs)(j.a,{button:!0,onClick:m,children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(v.a,{style:{color:"#7868e6"}})}),Object(z.jsx)(b.a,{primary:"Login Required"})]}),Object(z.jsx)(w.a,{}),O?Object(z.jsxs)(j.a,{button:!0,onClick:function(){return g({returnTo:window.location.origin})},children:[Object(z.jsx)(u.a,{children:Object(z.jsx)(f.a,{style:{color:"#7868e6"}})}),Object(z.jsx)(b.a,{primary:"Log Out"})]}):Object(z.jsx)(y.a,{})]});return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(S.a,{position:"absolute",className:d()(t.appBar,i&&t.appBarShift),children:Object(z.jsxs)(k.a,{children:[Object(z.jsx)(N.a,{color:"inherit","aria-label":"open drawer",onClick:l,className:d()(t.menuButton),children:Object(z.jsx)(p.a,{})}),Object(z.jsx)(A.a,{variant:"h6",color:"inherit",noWrap:!0,children:"TradeZy"})]})}),Object(z.jsx)(C.a,{mdUp:!0,children:Object(z.jsx)(I.a,{variant:"temporary",anchor:"left",open:i,onClose:l,classes:{paper:t.drawerPaper},style:{height:"100vh",borderRight:"1px solid rgb(241 241 241)"},ModalProps:{keepMounted:!0},children:T})}),Object(z.jsx)(C.a,{smDown:!0,implementation:"css",children:Object(z.jsx)(I.a,{variant:"permanent",style:{height:"100vh",borderRight:"1px solid rgb(241 241 241)"},classes:{paper:d()(t.drawerPaper,!i&&t.drawerPaperClose)},open:i,children:T})}),Object(z.jsxs)(K.a,{children:[Object(z.jsx)(U.a,{path:"/",exact:!0,children:Object(z.jsx)(D,{classes:t})}),Object(z.jsx)(U.a,{path:"/dashboard",exact:!0,children:Object(z.jsx)(q,{classes:t})})]})]})}));var H=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(Q,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(B.a,{domain:"tradezyapp.us.auth0.com",clientId:"aJkEKgF3xXvuLndcLEruFQvSyt5ZAxsB",redirectUri:window.location.origin,children:Object(z.jsx)(H,{})})}),document.getElementById("root")),V()},95:function(e,t,n){},96:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.23a0d59f.chunk.js.map